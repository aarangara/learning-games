<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reading Practice — Fill in the Blanks</title>
  <style>
    :root {
      --bg: #f6fbff;
      --ink: #0f172a;
      --muted: #64748b;
      --accent: #ec4899;
      --accent2: #14b8a6;
      --card: #ffffff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(900px 900px at 110% -10%, #fce7f3 0, transparent 60%), var(--bg);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--ink);
      padding: 24px;
    }
    .wrap {
      width: min(820px, 96vw);
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0,0,0,.08);
      padding: clamp(18px, 4vw, 36px);
    }
    h1 { margin: 0 0 8px; font-size: clamp(24px, 4vw, 34px); }
    .muted { color: var(--muted); font-size: 15px; margin: 0 0 20px; }
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 24px 0 18px;
      padding: 0;
      list-style: none;
    }
    .tag {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(236, 72, 153, 0.12);
      color: var(--accent);
      font-weight: 600;
      letter-spacing: 0.3px;
    }
    .lines {
      display: grid;
      gap: 12px;
      margin: 0;
      padding: 0;
      list-style: none;
    }
    .line {
      font-size: clamp(17px, 2vw, 20px);
      line-height: 1.5;
    }
    .blank {
      padding: 0 8px;
      border-bottom: 3px solid rgba(236, 72, 153, 0.4);
      font-weight: 700;
      color: #c026d3;
      white-space: nowrap;
    }
    .revealed {
      border-color: rgba(20, 184, 166, 0.6);
      color: #0f766e;
    }
    .word-bank-title {
      margin: 30px 0 6px;
      font-size: 16px;
      color: var(--muted);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .controls {
      margin-top: 24px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    button {
      border: 0;
      cursor: pointer;
      border-radius: 12px;
      padding: 14px 22px;
      font-weight: 800;
      font-size: clamp(16px, 3vw, 20px);
    }
    .btn-show { background: var(--accent); color: white; }
    .btn-next { background: var(--accent2); color: #0f172a; }
    .back {
      display: inline-block;
      margin-top: 18px;
      font-size: 16px;
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }
    .back:hover,
    .back:focus {
      text-decoration: underline;
      outline: none;
    }
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Reading practice: fill in the blanks">
    <h1>Reading Practice — Fill in the Blanks</h1>
    <p class="muted">
      Year 2 SAT warm-up: read the five lines, choose the best words, then reveal the answers when you are ready.
    </p>

    <ul class="lines" id="lines" aria-live="polite" aria-atomic="true"></ul>

    <h2 class="word-bank-title">Word bank</h2>
    <ul class="options" id="options"></ul>

    <div class="controls">
      <button class="btn-show" id="show">Show answers</button>
      <button class="btn-next" id="next">Next paragraph</button>
    </div>
    <a class="back" href="index.html">← Back to menu</a>
  </div>

<script>
  (function () {
    const LINES_PER_EXERCISE = 5;

    const POOLS = {
      names: ['Amelia', 'Oliver', 'Sophie', 'Jack', 'Mia', 'Noah', 'Emily', 'Harry', 'Isla', 'Leo', 'Grace', 'Arthur', 'Ava', 'George', 'Ella', 'Thomas', 'Freya', 'Oscar', 'Poppy', 'Liam', 'Chloe', 'Lucas', 'Maya', 'Jacob', 'Hannah', 'Elsie', 'James', 'Ruby', 'Logan', 'Evie'],
      bagAdjectives: ['tidy', 'bright', 'striped', 'colourful', 'neat', 'favourite', 'new', 'spotty', 'small', 'cheery', 'smart', 'light'],
      tripWeather: ['sunny', 'cloudy', 'breezy', 'rainy', 'misty', 'chilly', 'windy', 'bright'],
      tripPlaces: ['museum', 'park', 'farm', 'library', 'seaside', 'nature trail', 'castle', 'forest', 'market', 'playground', 'harbour', 'science centre'],
      tripFeelings: ['excited', 'nervous', 'happy', 'curious', 'calm', 'proud', 'ready', 'hopeful', 'cheerful', 'brave'],
      noteVerbs: ['write', 'make', 'jot', 'take', 'record'],
      gateAnimals: ['pony', 'duck', 'goose', 'dog', 'cat', 'sheep', 'lamb', 'kitten', 'puppy', 'calf'],
      gatePlaces: ['farm', 'park', 'school', 'garden', 'playground', 'courtyard'],
      mapPlaces: ['classroom', 'library', 'hall', 'workshop', 'art room', 'music room', 'science lab'],
      helperNumbers: ['two', 'three', 'four', 'five', 'six', 'seven', 'eight'],
      snackFoods: ['sandwich', 'apple', 'banana', 'biscuit', 'muffin', 'cookie', 'pancake', 'wrap', 'cake', 'fruit salad', 'crumpet', 'scone', 'carrot sticks'],
      clueObjects: ['map', 'compass', 'tablet', 'notebook', 'torch', 'magnifier', 'camera', 'chart', 'checklist'],
      storyAdjectives: ['exciting', 'funny', 'adventurous', 'mysterious', 'interesting', 'brilliant', 'amazing', 'lively', 'dramatic'],
      breezeAdjectives: ['gentle', 'soft', 'cool', 'warm', 'light', 'fresh', 'calm'],
      ideaAdjectives: ['bright', 'clever', 'new', 'creative', 'useful', 'helpful', 'smart', 'original'],
      groupActivities: ['singing', 'reading', 'acting', 'dancing', 'playing', 'painting', 'drumming', 'clapping', 'rehearsing'],
      displayNumbers: ['ten', 'twelve', 'fourteen', 'fifteen', 'twenty', 'twenty-four', 'thirty'],
      lunchFeelings: ['glad', 'happy', 'relieved', 'cheerful', 'excited', 'content', 'pleased'],
      playgroundAdjectives: ['busy', 'sunny', 'grassy', 'new', 'tidy', 'colourful', 'lively', 'quiet'],
      fenceAnimals: ['sparrow', 'robin', 'blackbird', 'squirrel', 'hedgehog', 'magpie'],
      musicActivities: ['dancing', 'stretching', 'clapping', 'swaying', 'singing', 'marching', 'twirling'],
      sharingVerbs: ['share', 'show', 'explain', 'present', 'describe', 'discuss'],
      smallAnimals: ['hedgehog', 'rabbit', 'frog', 'duckling', 'kitten', 'puppy', 'fieldmouse', 'tortoise'],
      leafNumbers: ['ten', 'twelve', 'fifteen', 'twenty', 'twenty-four', 'thirty'],
      kitchenFoods: ['soup', 'bread', 'stew', 'pasta', 'porridge', 'fruit salad', 'pie'],
      shelfObjects: ['jar', 'map', 'model', 'plant pot', 'box', 'globe', 'picture', 'shell'],
      displayAdjectives: ['bright', 'colourful', 'sparkling', 'shiny', 'new', 'neat', 'bold'],
      changeWeather: ['rainy', 'windy', 'cloudy', 'sunny', 'stormy', 'chilly', 'misty'],
      trackAnimals: ['fox', 'dog', 'cat', 'duck', 'badger', 'deer', 'rabbit'],
      factNumbers: ['three', 'four', 'five', 'six', 'seven', 'eight', 'nine'],
      livelySounds: ['chatting', 'giggling', 'cheering', 'clapping', 'singing together', 'drumming', 'laughing', 'applauding'],
      planVerbs: ['practise', 'draw', 'write', 'read', 'paint', 'build', 'sketch', 'plan'],
      skyWeather: ['clear', 'cloudy', 'sunny', 'grey', 'bright', 'blue', 'calm'],
      workFeelings: ['proud', 'pleased', 'confident', 'happy', 'calm', 'satisfied', 'hopeful'],
      bookNumbers: ['three', 'four', 'five', 'six', 'seven', 'eight', 'nine'],
      visitPlaces: ['museum', 'castle', 'harbour', 'village', 'bridge', 'park', 'seaside', 'forest', 'farm', 'aquarium'],
      practiseActions: ['singing', 'reading', 'acting', 'dancing', 'playing', 'reciting', 'whispering'],
      practisePlaces: ['hall', 'music room', 'classroom', 'library', 'stage', 'school hall'],
      topics: ['plants', 'space', 'animals', 'history', 'music', 'seasons', 'numbers', 'friendship', 'weather', 'stories', 'maps', 'recycling', 'oceans', 'inventions'],
      times: ['playtime', 'lunchtime', 'story time', 'assembly', 'snack time', 'reading time', 'PE lesson', 'project time', 'tidy-up time', 'library time', 'golden time'],
      cupboardAdjectives: ['tiny', 'shiny', 'dusty', 'old', 'new', 'striped', 'silver', 'golden', 'wooden'],
      cupboardObjects: ['box', 'shell', 'coin', 'book', 'puzzle', 'toy', 'medal', 'key', 'badge', 'scroll'],
      storyAnimals: ['fox', 'bear', 'owl', 'horse', 'dolphin', 'turtle', 'panda', 'whale'],
      hiddenObjects: ['treasure', 'map', 'key', 'jewel', 'message', 'scroll', 'secret box', 'gold coin'],
      circleFoods: ['fruit', 'biscuits', 'sandwiches', 'carrot sticks', 'apple slices', 'crackers', 'cupcakes'],
      stayFeelings: ['calm', 'brave', 'confident', 'positive', 'steady', 'patient', 'hopeful'],
      projectTopics: ['wildlife', 'gardens', 'weather', 'castles', 'space', 'transport', 'recycling', 'music', 'friendship', 'healthy eating'],
      beforeTimeVerbs: ['read', 'tidy', 'chat', 'practise', 'stretch', 'count', 'draw'],
      volunteerNumbers: ['two', 'three', 'four', 'five', 'six', 'seven'],
      packPrimary: ['map', 'compass', 'notebook', 'camera', 'sketchbook', 'torch'],
      packSecondary: ['water bottle', 'lunchbox', 'magnifier', 'clipboard', 'raincoat', 'pencil case', 'snack bag'],
      journeyAdjectives: ['exciting', 'long', 'sunny', 'rainy', 'peaceful', 'busy', 'magical', 'adventurous']
    };

    const PATTERNS = [
      { template: '{Name} packed their {bag} bag for the trip.', blank: 'bag', slots: { Name: 'names', bag: 'bagAdjectives' } },
      { template: 'On the {weather} morning, the class walked to the {place}.', blank: 'weather', slots: { weather: 'tripWeather', place: 'tripPlaces' } },
      { template: '{Name} felt {feeling} as the bus arrived at the {place}.', blank: 'feeling', slots: { Name: 'names', feeling: 'tripFeelings', place: 'tripPlaces' } },
      { template: 'The group stopped to {verb} notes in the {place}.', blank: 'verb', slots: { verb: 'noteVerbs', place: 'mapPlaces' } },
      { template: 'The friendly {animal} watched them from the {place} gate.', blank: 'animal', slots: { animal: 'gateAnimals', place: 'gatePlaces' } },
      { template: '{Name} carried the map into the {place}.', blank: 'place', slots: { Name: 'names', place: 'mapPlaces' } },
      { template: 'The teacher chose {number} pupils to help today.', blank: 'number', slots: { number: 'helperNumbers' } },
      { template: 'Everyone shared some {food} after the walk.', blank: 'food', slots: { food: 'snackFoods' } },
      { template: '{Name} checked the {object} for new clues.', blank: 'object', slots: { Name: 'names', object: 'clueObjects' } },
      { template: 'They listened to the {adjective} story about explorers.', blank: 'adjective', slots: { adjective: 'storyAdjectives' } },
      { template: 'The {breeze} breeze made the flags flutter gently.', blank: 'breeze', slots: { breeze: 'breezeAdjectives' } },
      { template: '{Name} kept a list of {adjective} ideas in their notebook.', blank: 'adjective', slots: { Name: 'names', adjective: 'ideaAdjectives' } },
      { template: 'A team of classmates practised {activity} together.', blank: 'activity', slots: { activity: 'groupActivities' } },
      { template: 'The display showed {number} shells beside the model boat.', blank: 'number', slots: { number: 'displayNumbers' } },
      { template: 'They felt {feeling} when the lunch bell rang.', blank: 'feeling', slots: { feeling: 'lunchFeelings' } },
      { template: '{Name} drew a map of the {adjective} playground.', blank: 'adjective', slots: { Name: 'names', adjective: 'playgroundAdjectives' } },
      { template: 'A curious {animal} perched on the garden fence.', blank: 'animal', slots: { animal: 'fenceAnimals' } },
      { template: 'The class wrote about their trip to the {place}.', blank: 'place', slots: { place: 'tripPlaces' } },
      { template: 'Tom practised {activity} to the gentle music.', blank: 'activity', slots: { activity: 'musicActivities' } },
      { template: 'They promised to {verb} their findings with the headteacher.', blank: 'verb', slots: { verb: 'sharingVerbs' } },
      { template: '{Name} spotted a small {animal} near the {place}.', blank: 'animal', slots: { Name: 'names', animal: 'smallAnimals', place: 'tripPlaces' } },
      { template: 'The class gathered {number} leaves during {Name}\'s lesson.', blank: 'number', slots: { number: 'leafNumbers', Name: 'names' } },
      { template: 'They tasted some {food} in the kitchen.', blank: 'food', slots: { food: 'kitchenFoods' } },
      { template: '{Name} carefully labelled the {object} on the shelf.', blank: 'object', slots: { Name: 'names', object: 'shelfObjects' } },
      { template: 'The {place} was filled with {adjective} displays.', blank: 'adjective', slots: { place: 'mapPlaces', adjective: 'displayAdjectives' } },
      { template: 'The weather turned {weather} during the activity.', blank: 'weather', slots: { weather: 'changeWeather' } },
      { template: '{Name} followed the footprints of a {animal} near the {place}.', blank: 'animal', slots: { Name: 'names', animal: 'trackAnimals', place: 'tripPlaces' } },
      { template: 'The pupils recorded {number} facts in their notebooks.', blank: 'number', slots: { number: 'factNumbers' } },
      { template: 'Some {food} was saved for the journey home.', blank: 'food', slots: { food: 'snackFoods' } },
      { template: 'The room buzzed with {sound} this morning.', blank: 'sound', slots: { sound: 'livelySounds' } },
      { template: '{Name} checked that the {object} was working properly.', blank: 'object', slots: { Name: 'names', object: 'clueObjects' } },
      { template: 'Everyone admired the {adjective} project on display.', blank: 'adjective', slots: { adjective: 'displayAdjectives' } },
      { template: 'A basket of {food} waited on the picnic table.', blank: 'food', slots: { food: 'snackFoods' } },
      { template: '{Name} planned to {verb} again after lunch.', blank: 'verb', slots: { Name: 'names', verb: 'planVerbs' } },
      { template: 'The sky stayed {weather} throughout the adventure.', blank: 'weather', slots: { weather: 'skyWeather' } },
      { template: 'The pupils felt {feeling} about their work.', blank: 'feeling', slots: { feeling: 'workFeelings' } },
      { template: 'The table held {number} sets of tidy books.', blank: 'number', slots: { number: 'bookNumbers' } },
      { template: '{Name} built a model of the {place} during art club.', blank: 'place', slots: { Name: 'names', place: 'visitPlaces' } },
      { template: 'They practised {activity} softly in the {place}.', blank: 'activity', slots: { activity: 'practiseActions', place: 'practisePlaces' } },
      { template: 'The lesson about {topic} made everyone smile.', blank: 'topic', slots: { topic: 'topics' } },
      { template: '{Name} wrote a sentence about {topic} today.', blank: 'topic', slots: { Name: 'names', topic: 'topics' } },
      { template: 'They watched a short film on {topic} during assembly.', blank: 'topic', slots: { topic: 'topics' } },
      { template: 'The folder held plans for {topic} this term.', blank: 'topic', slots: { topic: 'topics' } },
      { template: 'After {time}, they packed the equipment away.', blank: 'time', slots: { time: 'times' } },
      { template: '{Name} reminded the group about {time} tomorrow.', blank: 'time', slots: { Name: 'names', time: 'times' } },
      { template: '{Name} discovered a {adjective} {object} in the cupboard.', blank: 'object', slots: { Name: 'names', adjective: 'cupboardAdjectives', object: 'cupboardObjects' } },
      { template: 'The story featured a brave {animal} and a hidden {object}.', blank: 'animal', slots: { animal: 'storyAnimals', object: 'hiddenObjects' } },
      { template: 'They planned to visit the {place} again next week.', blank: 'place', slots: { place: 'visitPlaces' } },
      { template: 'A plate of {food} was passed around the circle.', blank: 'food', slots: { food: 'circleFoods' } },
      { template: '{Name} promised to stay {feeling} during the challenge.', blank: 'feeling', slots: { Name: 'names', feeling: 'stayFeelings' } },
      { template: 'The sky looked {weather} as they set off.', blank: 'weather', slots: { weather: 'skyWeather' } },
      { template: 'Their project about {topic} won applause.', blank: 'topic', slots: { topic: 'projectTopics' } },
      { template: 'The timetable showed {time} starting early.', blank: 'time', slots: { time: 'times' } },
      { template: '{Name} likes to {verb} before {time} begins.', blank: 'verb', slots: { Name: 'names', verb: 'beforeTimeVerbs', time: 'times' } },
      { template: 'The coach asked for {number} volunteers to tidy up.', blank: 'number', slots: { number: 'volunteerNumbers' } },
      { template: 'A trail of {animal} footprints led to the {place}.', blank: 'animal', slots: { animal: 'trackAnimals', place: 'tripPlaces' } },
      { template: '{Name} carefully packed the {itemA} and the {itemB}.', blank: 'itemA', slots: { Name: 'names', itemA: 'packPrimary', itemB: 'packSecondary' } },
      { template: 'They enjoyed warm {food} during {time}.', blank: 'food', slots: { food: 'kitchenFoods', time: 'times' } },
      { template: 'The notes described a {adjective} journey through the {place}.', blank: 'adjective', slots: { adjective: 'journeyAdjectives', place: 'tripPlaces' } }
    ];

    const $lines = document.getElementById('lines');
    const $options = document.getElementById('options');
    const $show = document.getElementById('show');
    const $next = document.getElementById('next');

    function shuffle(array) {
      const copy = [...array];
      for (let i = copy.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }

    function randomWord(poolKey) {
      const pool = POOLS[poolKey] || [];
      if (!pool.length) return 'blank';
      return pool[Math.floor(Math.random() * pool.length)];
    }

    function pickUniqueWord(poolKey, usedWords) {
      const pool = shuffle(POOLS[poolKey] || []);
      for (const word of pool) {
        if (!usedWords.has(word)) {
          usedWords.add(word);
          return word;
        }
      }
      if (!pool.length) return 'blank';
      const fallback = pool[Math.floor(Math.random() * pool.length)];
      usedWords.add(fallback);
      return fallback;
    }

    function createLine(pattern, usedWords) {
      const placeholderRegex = /{([^}]+)}/g;
      let output = '';
      let lastIndex = 0;
      let answer = null;

      let match;
      while ((match = placeholderRegex.exec(pattern.template)) !== null) {
        const key = match[1];
        const poolKey = pattern.slots[key];
        output += pattern.template.slice(lastIndex, match.index);

        if (!poolKey) {
          output += match[0];
          lastIndex = placeholderRegex.lastIndex;
          continue;
        }

        if (key === pattern.blank) {
          const word = pickUniqueWord(poolKey, usedWords);
          answer = word;
          output += `<span class="blank" data-answer="${word}">_____</span>`;
        } else {
          output += randomWord(poolKey);
        }

        lastIndex = placeholderRegex.lastIndex;
      }

      output += pattern.template.slice(lastIndex);

      return {
        html: output,
        answers: answer ? [answer] : []
      };
    }

    function generateExercise() {
      const usedWords = new Set();
      const templates = shuffle(PATTERNS).slice(0, LINES_PER_EXERCISE);
      const lines = templates.map((template) => createLine(template, usedWords));
      const answers = lines.flatMap((line) => line.answers).filter(Boolean);

      $lines.innerHTML = lines
        .map((line) => `<li class="line">${line.html}</li>`)
        .join('');

      const wordOptions = shuffle(answers);
      $options.innerHTML = wordOptions
        .map((word) => `<li class="tag">${word}</li>`)
        .join('');

      document.querySelectorAll('.blank').forEach((span) => {
        span.classList.remove('revealed');
        span.textContent = '_____';
      });

      $show.disabled = false;
    }

    function showAnswers() {
      document.querySelectorAll('.blank').forEach((span) => {
        span.textContent = span.dataset.answer;
        span.classList.add('revealed');
      });
      $show.disabled = true;
    }

    $show.addEventListener('click', showAnswers);
    $next.addEventListener('click', generateExercise);

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        event.preventDefault();
        if (!$show.disabled) showAnswers();
      }
      if (event.key === ' ') {
        event.preventDefault();
        generateExercise();
      }
    });

    generateExercise();
  })();
</script>
</body>
</html>
